!function(t){t.Rotator=function(n,e){this.version="0.9.8 R05.21.12";var a={first:1,random:!1,reorderSlides:!1,transition:"fade",transitionDuration:1e3,transitions:{},interval:7e3,slideClass:".slide",slideNumClass:".slide-#",slideIdAttr:"data-slide-id",slideNameAttr:"data-slide-name",width:980,height:360,nav:{prev:!0,next:!0,start:!1,stop:!1,numbers:!0,icons:!1,position:"after"},currentNavClass:".current",stopOnClick:!0,loadingClassName:"loading",autostart:!0,quickLoad:!1,zIndex:10,events:{onInit:function(t){},onLoad:function(t){},onFirstStart:function(t){},onStart:function(t){},onStop:function(t){},onChange:function(t){},onClick:function(t){},onNavClick:function(t){}},debug:!1},r=t.extend({},a,e||{}),s=this;s.config=r,s.element,s.slides,s.nav;var i,o=!1,d=function(){s.element=t(n).eq(0),s.id=s.element[0].id||s.element.attr({id:(Date.now()+1).toString(36)})[0].id,s.slides=s.element.find(r.slideClass),1==r.random&&(r.first=Math.floor(100*Math.random())%s.slides.length+1);var a=r.first,o=[];s.slides.each(function(){a>s.slides.length&&(a=1),o[a-1]=t(this).attr(r.slideIdAttr,a).addClass(r.slideNumClass.replace(/\#/,a).replace(/\./,""))[0],a++}),1==r.reorderSlides&&1==r.random&&(s.slides.remove(),s.element.append(o)),s.slides=t(o),i=s.slides.eq(0).css({zIndex:r.zIndex}),s.slides.find("a").click(function(t){s.runEvent("onClick",{event:t})}),r.transitions=t.extend(s.transitions,r.transitions),r.nav&&s.slides.length>1&&c(),s.element.data("rotator",s),s.runEvent("onInit");var d=function(){r.rotatorLoaded=!0,s.element.removeClass(r.loadingClassName),r.events.onLoadDefault=function(){i.fadeIn(500),s.nav&&s.nav.fadeIn()},e.events?e.events.onLoad||r.events.onLoadDefault():r.events.onLoadDefault(),s.runEvent("onLoad"),1==r.autostart&&s.slides.length>1&&s.start()};if(1==r.quickLoad)d();else{var l=i.find("img");l.length>0?l.one("load",d):d(),t(window).load(function(){1!=r.rotatorLoaded&&d()})}return s};s.start=function(){return s.runEvent("onStart"),l(),s},s.stop=function(){return s.runEvent("onStop"),u(),s},s.next=function(){return s.goTo(s.current()+1)},s.prev=function(){return s.goTo(s.current()-1)},s.current=function(){return"undefined"==typeof i?-1:parseInt(i.attr(r.slideIdAttr))},s.goTo=function(n){if("undefined"==typeof n||"function"!=typeof s.transitions[r.transition]||s.slides.filter(":animated").length>0)return s;var e=n,a=s.current();if(a==e)return s;r.zIndex="auto"!==r.zIndex&&"number"==typeof parseInt(r.zIndex)?parseInt(r.zIndex)+2:r.zIndex;var o=s.slides.eq(v(a,!0));t.extend(o,{id:o.attr(r.slideIdAttr),name:o.attr(r.slideIdAttr)});var d=s.slides.eq(v(e,!0));return t.extend(d,{id:d.attr(r.slideIdAttr),name:d.attr(r.slideIdAttr)}),s.transitions[r.transition](o,d,r),i=d,r.nav&&s.nav.steps.removeClass(r.currentNavClass.replace(/\./g,"")).eq(v(e,!0)).addClass(r.currentNavClass.replace(/\./g,"")),s.runEvent("onChange"),s},s.ieFadeFix=function(t){return t="undefined"!=typeof t?t:!0,s.element.css({backgroundColor:t?"black":"transparent"}),s},s.getEventData=function(){var t=s.current(),n={rotator:s,slides:{current:{id:t,name:s.slides.eq(v(t,!0)).attr(r.slideNameAttr),obj:s.slides.eq(v(t,!0))},next:{id:v(t+1),name:s.slides.eq(v(t+1,!0)).attr(r.slideNameAttr),obj:s.slides.eq(v(t+1,!0))},prev:{id:v(t-1),name:s.slides.eq(v(t-1,!0)).attr(r.slideNameAttr),obj:s.slides.eq(v(t-1,!0))},total:s.slides.length}};return n};var l=function(){return o=setInterval(function(){s.next()},r.interval),!0},u=function(){return clearInterval(o),o=!1,!0};s.resetInterval=function(){return u(),l(),s},s.isRunning=function(){return o===!1},s.transitions={swipe:function(t,n,e){e.zIndex++,width={start:0,end:n.parent().innerWidth()},img=n,img.css({width:width.start,zIndex:e.zIndex,display:"block"}).animate({width:width.end},n.transitionDuration,function(){t.hide()})},push:function(t,n,e){var a=t.parent(),r=e.width*n.attr(e.slideIdAttr)-e.width;0!==r&&(r=-1*r),a.animate({left:r},e.transitionDuration)},fade:function(t,n,e){t.fadeOut(e.transitionDuration),n.fadeIn(e.transitionDuration)}},s.runEvent=function(n,e){return e=t.extend({},s.getEventData(),e||{}),"function"==typeof r.events[n]&&r.events[n](e),s};var v=function(t,n){return t=parseInt(t),1>t?t=s.slides.length:t>s.slides.length&&(t=1),n?parseInt(t)-1:parseInt(t)},c=function(){s.nav=t("<ul />").attr({id:s.id+"-nav","class":"rotator-nav"});var n=function(n){s.nav.append(t("<li />").attr({"class":n.type}).append(t("<a />").attr({href:"#"+n.type,"class":n.type+"-icon"}).attr(r.slideIdAttr,n.type).html(n.text)))},e=function(n){s.nav.append(t("<li />").attr({"class":"step "+n.type}).append(t("<a />").attr({href:"#"+r.slideNumClass.replace(/\#/,n.num).replace(/\./,"")}).html(n.text).attr(r.slideIdAttr,n.num)))};if(r.nav.prev&&n({text:1==r.nav.prev?"<":r.nav.prev,type:"prev"}),r.nav.stop&&n({text:1==r.nav.stop?"stop":r.nav.stop,type:"stop"}),r.nav.start&&n({text:1==r.nav.start?"start":r.nav.start,type:"start"}),r.nav.icons||r.nav.numbers){var a=r.nav.numbers?"number":"icon",i=null;"icon"==a&&(i=r.nav.icons===!0?"&bull;":r.nav.icons);for(var o=1;o<=s.slides.length;o++)e({type:a,text:i||o,num:o})}r.nav.next&&n({text:1==r.nav.next?">":r.nav.next,type:"next"}),s.nav.find("a").click(function(n){n.preventDefault();var e=t(this);setTimeout(function(){s.runEvent("onNavClick",{event:n,navClicked:{id:parseInt(e.attr(r.slideIdAttr)),name:s.slides.eq(v(parseInt(e.attr(r.slideIdAttr)),!0)).attr(r.slideNameAttr),obj:s.slides.eq(v(parseInt(e.attr(r.slideIdAttr)),!0))}})},r.transitionDuration+500),s.resetInterval(!0);var a=t(this).attr(r.slideIdAttr);switch(a){case"prev":s.prev();break;case"next":s.next();break;case"start":s.start();break;case"stop":s.stop();break;default:s.goTo(a)}1==r.stopOnClick&&"start"!=a&&"stop"!=a&&s.stop()}),"before"==r.nav.position?s.element.before(s.nav):"inside"==r.nav.position?s.element.append(s.nav):s.element.after(s.nav),s.element.nav=s.nav,s.nav.steps=s.nav.find(".step"),s.nav.steps.eq(0).addClass(r.currentNavClass.replace(/\./g,""))};return d()},t.fn.rotator=function(n){return this.each(function(){new t.Rotator(this,n||{})}),this}}(jQuery);